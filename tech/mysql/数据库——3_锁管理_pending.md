# 1. 数据库架构

## 一个面试题引发的"血案"

### 如何设计一个关系型数据库


### 开始设计我们的 RDBMS

#### 1. RDBMS 即关系数据库管理系统(Relational Database Management System)

1.1 RDBMS 应当包括 ***程序实例*** 和 ***存储系统（文件系统）***

```
RDBMS
+----------------------------------+
|           程 序 实 例             |
|                                  |
|                                  |
+----------------------------------+
|        存 储 （ 文 件 系 统 ）     |
|                                  |
|                                  |
+----------------------------------+
```


#### 2. ***程序实例*** 和 ***存储系统（文件系统）***

2.1 ***存储系统（文件系统）*** 应当存储在 HDD / SSD / ...，如下图

```
RDBMS
+----------------------------------+
|           程 序 实 例             |
|                                  |
|                                  |
+----------------------------------+
|        存 储 （ 文 件 系 统 ）     |
|          HDD / SSD / ...         |
|                                  |
+----------------------------------+
```


2.2 ***程序实例*** 应当包括：存储管理、缓存机制、SQL解析、日志管理、权限划分、容灾机制、索引管理、锁管理，如下图


```
RDBMS
+---------------------------------------------------+
|                     程 序 实 例                    |
|                                                   |
| 存 储 管 理   缓 存 机 制   SQL 解 析   日 志 管 理   |
|                                                   |
| 权 限 划 分   容 灾 机 制   索 引 管 理   锁 管 理     |
|                                                   |
+---------------------------------------------------+
|                存 储 （ 文 件 系 统 ）              |
|                                                   |
|                                                   |
|                  HDD / SSD / ...                  |
|                                                   |
+---------------------------------------------------+
```

#### 3. ***程序实例***

3.1 作为开发者，我们将重点研究，其中两个模块：
 - [索引管理](./数据库——2_索引管理_pending.md)

 - 锁管理
 
 3.2 索引管理
 
 在研究索引管理之前，我们先提出几个问题。
 
 - 为什么要使用索引？
    - 快速查询数据
 - 什么样的信息能成为索引？
    - 主键、唯一键以及普通键等
 - 索引的数据结构？
    - 生成索引，建立 二叉查找树 进行二分查找
    - 生成索引，建立 B-Tree 结构进行查找
    - 生成索引，建立 B+-Tree 结构进行查找
    - 生成索引，建立 Hash 结构进行查找
 - 密集索引和稀疏索引的区别？
    - 密集索引文件中的每个搜索码值都对应一个索引值
    - 稀疏索引文件只为索引码的某些值建立索引项